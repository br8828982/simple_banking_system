<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Account System</title>
</head>
<body>
    <h1>Bank Account System</h1>

    <div id="createAccountSection">
        <h2>Create New Account</h2>
        <form id="createAccountForm">
            <label for="accountHolder">Account Holder:</label>
            <input type="text" id="accountHolder" required>
            <br>
            <label for="initialBalance">Initial Balance:</label>
            <input type="number" id="initialBalance" min="1" step="1" required>
            <br>
            <button type="button" onclick="createAccount()">Create Account</button>
        </form>
    </div>

    <div id="accountInfo" style="display:none;">
        <h2>Account Details</h2>
        <p>Account Number: <span id="accountNumberDisplay"></span></p>
        <p>Account Holder: <span id="accountHolderDisplay"></span></p>
        <p>Balance: $<span id="balanceDisplay"></span></p>
        <form id="transactionForm">
            <label for="transactionAmount">Transaction Amount:</label>
            <input type="number" id="transactionAmount" min="1" step="1">
            <button type="button" onclick="deposit()">Deposit</button>
            <button type="button" onclick="withdraw()">Withdraw</button>
            <button type="button" onclick="deleteAccount()">Delete Account</button>
        </form>
    </div>

    <script>
        class BankAccount {
            constructor(accountHolder, balance) {
                this.accountNumber = this.generateAccountNumber();
                this.accountHolder = accountHolder;
                this.balance = balance;
            }

            generateAccountNumber() {
                return Math.floor(100000 + Math.random() * 900000).toString();
            }

            deposit(amount) {
                if (amount > 0) {
                    this.balance += amount;
                    alert(`Deposited $${amount} into account ${this.accountNumber}`);
                    updateAccountInfo();
                    resetTransactionForm();
                } else {
                    alert('Invalid deposit amount');
                }
            }

            withdraw(amount) {
                if (amount > 0 && amount <= this.balance) {
                    this.balance -= amount;
                    alert(`Withdrawn $${amount} from account ${this.accountNumber}`);
                    updateAccountInfo();
                    resetTransactionForm();
                } else {
                    alert('Invalid withdrawal amount or insufficient balance');
                }
            }

            delete() {
                if (confirm('Are you sure you want to delete this account?')) {
                    currentAccount = undefined;
                    document.getElementById('accountInfo').style.display = 'none';
                    document.getElementById('createAccountSection').style.display = 'block';
                }
            }

            checkBalance() {
                return this.balance;
            }
        }

        let currentAccount;

        function createAccount() {
            const accountHolder = document.getElementById('accountHolder').value;
            const initialBalance = parseFloat(document.getElementById('initialBalance').value);

            if (accountHolder && initialBalance) {
                currentAccount = new BankAccount(accountHolder, initialBalance);
                document.getElementById('accountNumberDisplay').textContent = currentAccount.accountNumber;
                document.getElementById('accountHolderDisplay').textContent = currentAccount.accountHolder;
                document.getElementById('balanceDisplay').textContent = currentAccount.balance;
                document.getElementById('accountInfo').style.display = 'block';
                document.getElementById('createAccountSection').style.display = 'none';
            } else {
                alert('Please fill in all fields to create an account.');
            }
        }

        function deposit() {
            const transactionAmount = parseFloat(document.getElementById('transactionAmount').value);
            if (transactionAmount) {
                currentAccount.deposit(transactionAmount);
            } else {
                alert('Invalid transaction amount');
            }
        }

        function withdraw() {
            const transactionAmount = parseFloat(document.getElementById('transactionAmount').value);
            if (transactionAmount) {
                currentAccount.withdraw(transactionAmount);
            } else {
                alert('Invalid transaction amount');
            }
        }

        function deleteAccount() {
            currentAccount.delete();
        }

        function updateAccountInfo() {
            document.getElementById('accountNumberDisplay').textContent = currentAccount.accountNumber;
            document.getElementById('accountHolderDisplay').textContent = currentAccount.accountHolder;
            document.getElementById('balanceDisplay').textContent = currentAccount.balance;
        }

        function resetTransactionForm() {
            document.getElementById('transactionAmount').value = '';
        }
    </script>
</body>
</html>
